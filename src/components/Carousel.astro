---
import { Image } from "astro:assets";
import { getPastEventPhoto } from "../lib/microcms";

const res = await getPastEventPhoto();
---
<div class="swiper">
  <div class="swiper-wrapper">
  {res.images.map((image: any) => (
    <div class="swiper-slide">
      <Image src={image.url + "?w=350&h=350&fit=crop"} alt="past-event-photo" width={350} height={350} />
    </div>
))}
  <div class="swiper-pagination"></div>
  </div>
</div>

<script>
  import Swiper from "swiper";
  import { Pagination } from "swiper/modules";
  import "swiper/css/bundle";
  import "swiper/css/pagination";

  export const swiper = new Swiper(".swiper", {
    slidesPerView: 3,
    spaceBetween: 10,
    modules: [Pagination],
    loop: false,
    speed: 1000,
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },
  });
</script>

<style>
  .swiper {
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .swiper-wrapper {
    max-width: 1040px;
  }
  
  .swiper-slide {
    width: 350px;
    height: 350px;
  }

  .swiper-pagination {
    position: fixed;
    bottom: 0;
  }

  .swiper-pagination-bullet {
    width: 24px;
    height: 24px;
    background-color: red;
  }

</style>
