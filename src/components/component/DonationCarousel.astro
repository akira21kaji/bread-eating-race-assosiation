---
import { Image } from "astro:assets";
import { getDonationPhoto } from "../../lib/microcms";
const res = await getDonationPhoto();
---

  <div class="swiper2">
    <div class="swiper-wrapper max-w-[300px] sm:max-w-[1040px] pb-10">
      {res.images.map((image: any) => (
        <div class="swiper-slide">
          <Image src={image.url + "?w=350&h=350&fit=crop"} alt="寄付の取り組み" width={350} height={350}/>
        </div>
      ))}
    </div>
    <div class="swiper-scrollbar max-w-[350px] !left-1/2 transform !-translate-x-1/2"></div>
  </div>

<style>
  .swiper-scrollbar {
    position: relative;
    --swiper-scrollbar-drag-bg-color: #E17A19 !important;
    --swiper-scrollbar-bg-color: #FFF !important;
  }
</style>

<script>
  import Swiper from "swiper";
  import { Scrollbar } from "swiper/modules";
  import "swiper/css/bundle";

  export const swiperConfig =  {
    cssMode: true,
    slidesPerView: 1,
    spaceBetween: 10,
    modules: [Scrollbar],
    loop: false,
    speed: 400,
    scrollbar: {
      el: ".swiper-scrollbar",
    },
    mousewheel: true,
    breakpoints: {
      748: {
        slidesPerView: 3,
      },
    },
  };

  const swiper2 = new Swiper(".swiper2", swiperConfig)
</script>